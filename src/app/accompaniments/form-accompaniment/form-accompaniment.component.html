<div class="accompaniments">
  <app-sidebar></app-sidebar>
  <div class="content">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <h2 class="form-row">
            <ng-container>
              {{
                route.snapshot.params["action"] === "edit"
                  ? "Editar Acompanhamento"
                  : route.snapshot.params["action"] === "view"
                  ? "Visualizar Acompanhamento"
                  : "Adicionar Acompanhamento"
              }}
            </ng-container>
          </h2>
        </div>
      </div>

      <div class="row">
        <form [formGroup]="addAccompanimentForm" (ngSubmit)="onSubmit()">
          <div class="row form-row">
            <div class="col-md-12">
              <div class="form-group">
                <mat-form-field style="width: 100%">
                  <mat-label>Paciente</mat-label>
                  <mat-select formControlName="patient_id">
                    <mat-option value="1"
                      >Vinicius Rodrigues de Sousa</mat-option
                    >
                    <mat-option value="2">Caio Freitas Lima</mat-option>
                    <mat-option value="3">Ronildo Cesar</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>
          </div>

          <hr />

          <div class="row form-row">
            <div class="col-md-9">
              <div class="form-group">
                <mat-form-field style="width: 100%">
                  <mat-label>Profissional</mat-label>
                  <mat-select formControlName="professional_id">
                    <mat-option value="1">Mauro Borges</mat-option>
                    <mat-option value="2">Lindovaldo Costa Leao</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
            </div>

            <div class="col-md-3">
              <div class="form-group">
                <mat-form-field style="width: 100%">
                  <mat-label>Data</mat-label>

                  <input
                    matInput
                    [matDatepicker]="picker"
                    formControlName="date"
                  />
                  <mat-datepicker-toggle
                    matIconSuffix
                    [for]="picker"
                  ></mat-datepicker-toggle>
                  <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
              </div>
            </div>
          </div>

          <hr />

          <div class="row form-row">
            <div class="col-md-12">
              <div class="form-group">
                <mat-form-field style="width: 100%">
                  <mat-label>Anotações</mat-label>
                  <textarea
                    type="text"
                    matInput
                    formControlName="notes"
                    style="height: 100px"
                  ></textarea>
                </mat-form-field>
              </div>
            </div>
          </div>

          <div class="button-group form-row">
            <div class="row">
              <div class="col-md-6">
                <button
                  class="btn btn-lg btn-warning text-white back-button"
                  (click)="backPage()"
                >
                  Voltar
                </button>
              </div>
              <div class="col-md-6 wrapper-save-accompaniment">
                <button
                  *ngIf="!disabled"
                  class="btn btn-lg btn-success text-white save-accompaniment"
                  type="submit"
                >
                  <ng-container *ngIf="!loading">
                    {{ route.snapshot.params["id"] ? "Editar" : "Cadastrar" }}
                  </ng-container>

                  <div
                    *ngIf="loading"
                    class="spinner-border"
                    role="status"
                  ></div>
                </button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
